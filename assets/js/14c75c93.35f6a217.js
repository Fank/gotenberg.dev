"use strict";(self.webpackChunkgotenberg_dev=self.webpackChunkgotenberg_dev||[]).push([[387],{4137:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>c});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),m=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=m(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},s=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),s=m(a),c=r,k=s["".concat(p,".").concat(c)]||s[c]||d[c]||l;return a?n.createElement(k,o(o({ref:t},u),{},{components:a})):n.createElement(k,o({ref:t},u))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=s;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var m=2;m<l;m++)o[m]=a[m];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}s.displayName="MDXCreateElement"},425:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(7294),r=a(6010);const l="tabItem_Ymn6";function o(e){let{children:t,hidden:a,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l,o),hidden:a},t)}},3992:(e,t,a)=>{a.d(t,{Z:()=>T});var n=a(7462),r=a(7294),l=a(6010),o=a(2957),i=a(6775),p=a(5238),m=a(3609),u=a(2560);function d(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function s(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??d(a);return function(e){const t=(0,m.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function c(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function k(e){let{queryString:t=!1,groupId:a}=e;const n=(0,i.k6)(),l=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,p._X)(l),(0,r.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(n.location.search);t.set(l,e),n.replace({...n.location,search:t.toString()})}),[l,n])]}function f(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,l=s(e),[o,i]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!c({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:l}))),[p,m]=k({queryString:a,groupId:n}),[d,f]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,l]=(0,u.Nk)(a);return[n,(0,r.useCallback)((e=>{a&&l.set(e)}),[a,l])]}({groupId:n}),h=(()=>{const e=p??d;return c({value:e,tabValues:l})?e:null})();(0,r.useLayoutEffect)((()=>{h&&i(h)}),[h]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!c({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);i(e),m(e),f(e)}),[m,f,l]),tabValues:l}}var h=a(1048);const g="tabList__CuJ",N="tabItem_LNqP";function b(e){let{className:t,block:a,selectedValue:i,selectValue:p,tabValues:m}=e;const u=[],{blockElementScrollPositionUntilNextRender:d}=(0,o.o5)(),s=e=>{const t=e.currentTarget,a=u.indexOf(t),n=m[a].value;n!==i&&(d(t),p(n))},c=e=>{let t=null;switch(e.key){case"Enter":s(e);break;case"ArrowRight":{const a=u.indexOf(e.currentTarget)+1;t=u[a]??u[0];break}case"ArrowLeft":{const a=u.indexOf(e.currentTarget)-1;t=u[a]??u[u.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},t)},m.map((e=>{let{value:t,label:a,attributes:o}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,key:t,ref:e=>u.push(e),onKeyDown:c,onClick:s},o,{className:(0,l.Z)("tabs__item",N,o?.className,{"tabs__item--active":i===t})}),a??t)})))}function y(e){let{lazy:t,children:a,selectedValue:n}=e;const l=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function v(e){const t=f(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",g)},r.createElement(b,(0,n.Z)({},e,t)),r.createElement(y,(0,n.Z)({},e,t)))}function T(e){const t=(0,h.Z)();return r.createElement(v,(0,n.Z)({key:String(t)},e))}},750:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>c,frontMatter:()=>i,metadata:()=>m,toc:()=>d});var n=a(7462),r=(a(7294),a(4137)),l=a(3992),o=a(425);const i={id:"routes",title:"Routes"},p=void 0,m={unversionedId:"routes",id:"routes",title:"Routes",description:"Most routes within Gotenberg are designed to accept multipart/form-data requests and generate one or more PDF files.",source:"@site/docs/routes.mdx",sourceDirName:".",slug:"/routes",permalink:"/docs/routes",draft:!1,editUrl:"https://github.com/gotenberg/gotenberg.dev/edit/main/docs/routes.mdx",tags:[],version:"current",frontMatter:{id:"routes",title:"Routes"},sidebar:"version-7.x",previous:{title:"Installation",permalink:"/docs/getting-started/installation"},next:{title:"Webhook",permalink:"/docs/webhook"}},u={},d=[{value:"Convert with Chromium",id:"convert-with-chromium",level:2},{value:'URL into PDF <span class="badge badge--secondary">route</span>',id:"url-into-pdf-route",level:3},{value:'HTML file into PDF <span class="badge badge--secondary">route</span>',id:"html-file-into-pdf-route",level:3},{value:'Markdown file(s) into PDF <span class="badge badge--secondary">route</span>',id:"markdown-files-into-pdf-route",level:3},{value:"Page Properties",id:"page-properties-chromium",level:3},{value:"Header &amp; Footer",id:"header--footer",level:3},{value:"Wait Before Rendering",id:"wait-before-rendering",level:3},{value:"Emulated Media Type",id:"emulated-media-type",level:3},{value:"Custom HTTP Headers",id:"custom-http-headers",level:3},{value:"Console Exceptions",id:"console-exceptions",level:3},{value:"PDF/A",id:"pdfa-chromium",level:3},{value:"Convert with LibreOffice",id:"convert-with-libreoffice",level:2},{value:'Office documents into PDFs <span class="badge badge--secondary">route</span>',id:"office-documents-into-pdfs-route",level:3},{value:"Page Properties",id:"page-properties-libreoffice",level:3},{value:"PDF/A",id:"pdfa-libreoffice",level:3},{value:'Convert into PDF/A <span class="badge badge--secondary">route</span>',id:"convert-into-pdfa-route",level:2},{value:'Merge PDFs <span class="badge badge--secondary">route</span>',id:"merge-pdfs-route",level:2},{value:'Health Check <span class="badge badge--secondary">route</span>',id:"health-check-route",level:2},{value:'Metrics <span class="badge badge--secondary">route</span>',id:"metrics-route",level:2},{value:"Request Tracing",id:"request-tracing",level:2},{value:"Output Filename",id:"output-filename",level:2}],s={toc:d};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Most routes within Gotenberg are designed to accept ",(0,r.kt)("em",{parentName:"p"},"multipart/form-data")," requests and generate one or more PDF files.\nThis guide will assist you in understanding their usage."),(0,r.kt)("h2",{id:"convert-with-chromium"},"Convert with Chromium"),(0,r.kt)("p",null,"The next routes leverage the capabilities of the Chromium browser to effectively transform a diverse range of HTML\ndocuments into PDFs."),(0,r.kt)("p",null,"There are three ",(0,r.kt)("em",{parentName:"p"},"multipart/form-data")," routes available:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#url-into-pdf"},"URL into PDF")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#html-file-into-pdf"},"HTML file into PDF")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#markdown-files-into-pdf"},"Markdown file(s) into PDF"))),(0,r.kt)("p",null,"Each route accepts common form fields and form files:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#page-properties-chromium"},"Page Properties")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#header--footer"},"Header & Footer")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#wait-before-rendering"},"Wait Before Rendering")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#emulated-media-type"},"Emulated Media Type")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#custom-http-headers"},"Custom HTTP Headers")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#console-exceptions"},"Console Exceptions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#pdfa-chromium"},"PDF/A"))),(0,r.kt)("p",null,"Checkout the ",(0,r.kt)("a",{parentName:"p",href:"configuration#chromium"},"Chromium module configuration")," to tailor the Chromium behavior to your needs."),(0,r.kt)("h3",{id:"url-into-pdf-route"},"URL into PDF ",(0,r.kt)("span",{class:"badge badge--secondary"},"route")),(0,r.kt)("p",null,"This ",(0,r.kt)("em",{parentName:"p"},"multipart/form-data")," route converts a web page into PDF."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST /forms/chromium/convert/url\n")),(0,r.kt)("p",null,"It accepts the following specific form field:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"url"),(0,r.kt)("td",{parentName:"tr",align:null},"URL of the page you want to convert into PDF."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--danger"},"required"))))),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{3}","{3}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n-o my.pdf\n")))),(0,r.kt)(l.Z,{defaultValue:"200",values:[{label:"200 OK",value:"200"},{label:"400 Bad Request",value:"400"},{label:"403 Forbidden",value:"403"},{label:"503 Service Unavailable",value:"503"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"200",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Disposition: attachement; filename={output-filename.pdf}\nContent-Type: {content-type}\nContent-Length: {content-length}\nGotenberg-Trace: {trace}\nBody: {output-file}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#request-tracing"},"Request Tracing")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Trace")," header."),(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#output-filename"},"Output Filename")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Output-Filename")," header."))),(0,r.kt)(o.Z,{value:"400",mdxType:"TabItem"},(0,r.kt)("p",null,"This errors happens if one ore more form fields are invalid."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: {error}\n"))),(0,r.kt)(o.Z,{value:"403",mdxType:"TabItem"},(0,r.kt)("p",null,"This error happens when the given URL is not authorized."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#chromium"},"Chromium module configuration")," for more details."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: '{url}' does not match the authorized URLs\n"))),(0,r.kt)(o.Z,{value:"503",mdxType:"TabItem"},(0,r.kt)("p",null,"If a request doesn't complete within a specified duration, the API will respond with a ",(0,r.kt)("em",{parentName:"p"},"503 Service Unavailable")," status."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#api"},"API module configuration")," for more details."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: Service Unavailable\n")))),(0,r.kt)("h3",{id:"html-file-into-pdf-route"},"HTML file into PDF ",(0,r.kt)("span",{class:"badge badge--secondary"},"route")),(0,r.kt)("p",null,"This ",(0,r.kt)("em",{parentName:"p"},"multipart/form-data")," route converts an HTML file into PDF."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST /forms/chromium/convert/html\n")),(0,r.kt)("p",null,"It accepts the following specific form file:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"index.html"),(0,r.kt)("td",{parentName:"tr",align:null},"The HTML file to convert into PDF."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--danger"},"required"))))),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <title>My PDF</title>\n  </head>\n  <body>\n    <h1>Hello world!</h1>\n  </body>\n</html>\n')),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{3}","{3}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/html' \\\n--form 'files=@\"/path/to/index.html\"' \\\n-o my.pdf\n")))),(0,r.kt)(l.Z,{defaultValue:"200",values:[{label:"200 OK",value:"200"},{label:"400 Bad Request",value:"400"},{label:"503 Service Unavailable",value:"503"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"200",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Disposition: attachement; filename={output-filename.pdf}\nContent-Type: {content-type}\nContent-Length: {content-length}\nGotenberg-Trace: {trace}\nBody: {output-file}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#request-tracing"},"Request Tracing")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Trace")," header."),(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#output-filename"},"Output Filename")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Output-Filename")," header."))),(0,r.kt)(o.Z,{value:"400",mdxType:"TabItem"},(0,r.kt)("p",null,"This errors happens if one ore more form fields are invalid."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: {error}\n"))),(0,r.kt)(o.Z,{value:"503",mdxType:"TabItem"},(0,r.kt)("p",null,"If a request doesn't complete within a specified duration, the API will respond with a ",(0,r.kt)("em",{parentName:"p"},"503 Service Unavailable")," status."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#api"},"API module configuration")," for more details."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: Service Unavailable\n")))),(0,r.kt)("hr",null),(0,r.kt)("p",null,"You may also send additional files, like images, fonts, stylesheets, and so on."),(0,r.kt)("p",null,"The only requirement is that their paths in the ",(0,r.kt)("inlineCode",{parentName:"p"},"index.html")," file are on the root level."),(0,r.kt)("p",null,"For instance, this will work:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:"{9}","{9}":!0},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <title>My PDF</title>\n  </head>\n  <body>\n    <h1>Hello world!</h1>\n    <img src="img.png" />\n  </body>\n</html>\n')),(0,r.kt)("p",null,"But this won't:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:"{9}","{9}":!0},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <title>My PDF</title>\n  </head>\n  <body>\n    <h1>Hello world!</h1>\n    <img src="/foo/img.png" />\n  </body>\n</html>\n')),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/html' \\\n--form 'files=@\"/path/to/index.html\"' \\\n--form 'files=@\"/path/to/img.png\"' \\\n-o my.pdf\n")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Remote paths for images, fonts (e.g., ",(0,r.kt)("a",{parentName:"p",href:"https://fonts.google.com/"},"Google Fonts"),"), etc., work too.")),(0,r.kt)("h3",{id:"markdown-files-into-pdf-route"},"Markdown file(s) into PDF ",(0,r.kt)("span",{class:"badge badge--secondary"},"route")),(0,r.kt)("p",null,"This ",(0,r.kt)("em",{parentName:"p"},"multipart/form-data")," route converts Markdown file(s) into PDF."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST /forms/chromium/convert/markdown\n")),(0,r.kt)("p",null,"It accepts the following specific form files:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"index.html"),(0,r.kt)("td",{parentName:"tr",align:null},"The HTML file that wraps the markdown content."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--danger"},"required"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"*.md"),(0,r.kt)("td",{parentName:"tr",align:null},"At least one markdown file."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--danger"},"required"))))),(0,r.kt)("p",null,"It works like the ",(0,r.kt)("a",{parentName:"p",href:"#html"},"HTML")," route but with access to a Go template function ",(0,r.kt)("inlineCode",{parentName:"p"},"toHTML"),". This function converts a\nmarkdown file's content into HTML."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:"{8}","{8}":!0},'<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <title>My PDF</title>\n  </head>\n  <body>\n    {{ toHTML "file.md" }}\n  </body>\n</html>\n')),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/markdown' \\\n--form 'files=@\"/path/to/index.html\"' \\\n--form 'files=@\"/path/to/file.md\"' \\\n-o my.pdf\n")))),(0,r.kt)(l.Z,{defaultValue:"200",values:[{label:"200 OK",value:"200"},{label:"400 Bad Request",value:"400"},{label:"503 Service Unavailable",value:"503"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"200",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Disposition: attachement; filename={output-filename.pdf}\nContent-Type: {content-type}\nContent-Length: {content-length}\nGotenberg-Trace: {trace}\nBody: {output-file}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#request-tracing"},"Request Tracing")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Trace")," header."),(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#output-filename"},"Output Filename")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Output-Filename")," header."))),(0,r.kt)(o.Z,{value:"400",mdxType:"TabItem"},(0,r.kt)("p",null,"This errors happens if one ore more form fields are invalid."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: {error}\n"))),(0,r.kt)(o.Z,{value:"503",mdxType:"TabItem"},(0,r.kt)("p",null,"If a request doesn't complete within a specified duration, the API will respond with a ",(0,r.kt)("em",{parentName:"p"},"503 Service Unavailable")," status."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#api"},"API module configuration")," for more details."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: Service Unavailable\n")))),(0,r.kt)("h3",{id:"page-properties-chromium"},"Page Properties"),(0,r.kt)("p",null,"Each route accepts the following form fields:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"paperWidth"),(0,r.kt)("td",{parentName:"tr",align:null},"Paper width, in inches."),(0,r.kt)("td",{parentName:"tr",align:null},"8.5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"paperHeight"),(0,r.kt)("td",{parentName:"tr",align:null},"Paper height, in inches."),(0,r.kt)("td",{parentName:"tr",align:null},"11")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"marginTop"),(0,r.kt)("td",{parentName:"tr",align:null},"Top margin, in inches."),(0,r.kt)("td",{parentName:"tr",align:null},"0.39")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"marginBottom"),(0,r.kt)("td",{parentName:"tr",align:null},"Bottom margin, in inches."),(0,r.kt)("td",{parentName:"tr",align:null},"0.39")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"marginLeft"),(0,r.kt)("td",{parentName:"tr",align:null},"Left margin, in inches."),(0,r.kt)("td",{parentName:"tr",align:null},"0.39")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"marginRight"),(0,r.kt)("td",{parentName:"tr",align:null},"Right margin, in inches."),(0,r.kt)("td",{parentName:"tr",align:null},"0.39")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"preferCssPageSize"),(0,r.kt)("td",{parentName:"tr",align:null},"Define whether to prefer page size as defined by CSS."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"printBackground"),(0,r.kt)("td",{parentName:"tr",align:null},"Print the background graphics."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"omitBackground"),(0,r.kt)("td",{parentName:"tr",align:null},"Hide the default white background and allow generating PDFs with transparency."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"landscape"),(0,r.kt)("td",{parentName:"tr",align:null},"Set the paper orientation to landscape."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"scale"),(0,r.kt)("td",{parentName:"tr",align:null},"The scale of the page rendering."),(0,r.kt)("td",{parentName:"tr",align:null},"1.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nativePageRanges"),(0,r.kt)("td",{parentName:"tr",align:null},"Page ranges to print, e.g., '1-5, 8, 11-13' - empty means all pages."),(0,r.kt)("td",{parentName:"tr",align:null},"All pages")))),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4-15}","{4-15}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'paperWidth=\"8.27\"' \\\n--form 'paperHeight=\"11.7\"' \\\n--form 'marginTop=\"1\"' \\\n--form 'marginBottom=\"1\"' \\\n--form 'marginLeft=\"1\"' \\\n--form 'marginRight=\"1\"' \\\n--form 'preferCssPageSize=\"false\"' \\\n--form 'printBackground=\"true\"' \\\n--form 'omitBackground=\"true\"' \\\n--form 'landscape=\"true\"' \\\n--form 'scale=\"2.0\"' \\\n--form 'nativePageRanges=\"1-5\"' \\\n-o my.pdf\n")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Examples of paper size (width x height):"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Letter")," - 8.5 x 11 (default)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Legal")," - 8.5 x 14"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Tabloid")," - 11 x 17"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Ledger")," - 17 x 11"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A0")," - 33.1 x 46.8"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A1")," - 23.4 x 33.1"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A2")," - 16.54 x 23.4"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A3")," - 11.7 x 16.54"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A4")," - 8.27 x 11.7"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A5")," - 5.83 x 8.27"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A6")," - 4.13 x 5.83"))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The rules regarding the ",(0,r.kt)("inlineCode",{parentName:"p"},"printBackground")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"omitBackground")," form fields are the following:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("inlineCode",{parentName:"li"},"printBackground")," is set to ",(0,r.kt)("em",{parentName:"li"},"false"),", no background is printed."),(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("inlineCode",{parentName:"li"},"printBackground")," is set to ",(0,r.kt)("em",{parentName:"li"},"true"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If the HTML document has a background, that background is used."),(0,r.kt)("li",{parentName:"ul"},"If not:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("inlineCode",{parentName:"li"},"omitBackground")," is set to ",(0,r.kt)("em",{parentName:"li"},"true"),", the default background is transparent."),(0,r.kt)("li",{parentName:"ul"},"If not, the default white background is used."))))))),(0,r.kt)("h3",{id:"header--footer"},"Header & Footer"),(0,r.kt)("p",null,"Each route accepts the following form files:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"header.html"),(0,r.kt)("td",{parentName:"tr",align:null},"HTML file containing the header."),(0,r.kt)("td",{parentName:"tr",align:null},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"footer.html"),(0,r.kt)("td",{parentName:"tr",align:null},"HTML file containing the footer."),(0,r.kt)("td",{parentName:"tr",align:null},"None")))),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4-7}","{4-7}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'files=@\"/path/to/header.html\"' \\\n--form 'files=@\"/path/to/footer.html\"' \\\n--form 'marginTop=\"1\"' \\\n--form 'marginBottom=\"1\"' \\\n-o my.pdf\n")))),(0,r.kt)("p",null,"Each of them has to be a ",(0,r.kt)("strong",{parentName:"p"},"complete HTML document"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<html>\n<head>\n    <style>\n    body {\n        font-size: 8rem;\n        margin: 4rem auto;\n    }\n    </style>\n</head>\n<body>\n<p><span class="pageNumber"></span> of <span class="totalPages"></span></p>\n</body>\n</html>\n')),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The following classes allow you to inject printing values:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"date")," - formatted print date."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"title")," - document title."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"url")," - document location."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"pageNumber")," - current page number."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"totalPages")," - total pages in the document."))),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Make sure that:"),(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"Margins top and bottom are large enough (",(0,r.kt)("inlineCode",{parentName:"li"},"marginTop")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"marginBottom")," form fields)."),(0,r.kt)("li",{parentName:"ol"},"The font size is big enough."))),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"There are some limitations:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"No JavaScript."),(0,r.kt)("li",{parentName:"ul"},"The CSS properties are independent of the ones from the HTML document."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"footer.html")," CSS properties override the ones from ",(0,r.kt)("inlineCode",{parentName:"li"},"header.html"),"."),(0,r.kt)("li",{parentName:"ul"},"Only fonts installed in the Docker image are loaded - see the ",(0,r.kt)("a",{parentName:"li",href:"configuration#fonts"},"fonts configuration section"),"."),(0,r.kt)("li",{parentName:"ul"},"Images only work using a base64 encoded source - i.e., ",(0,r.kt)("inlineCode",{parentName:"li"},"data:image/png;base64, iVBORw0K..."),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"background-color")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"color")," CSS properties require an additional ",(0,r.kt)("inlineCode",{parentName:"li"},"-webkit-print-color-adjust: exact")," CSS property in order to work."),(0,r.kt)("li",{parentName:"ul"},"Assets are not loaded (i.e., CSS files, scripts, fonts, etc.)."),(0,r.kt)("li",{parentName:"ul"},"Background form fields do not apply."))),(0,r.kt)("h3",{id:"wait-before-rendering"},"Wait Before Rendering"),(0,r.kt)("p",null,"Each route accepts the following form fields:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"waitDelay"),(0,r.kt)("td",{parentName:"tr",align:null},"Duration (e.g, '5s') to wait when loading an HTML document before converting it into PDF."),(0,r.kt)("td",{parentName:"tr",align:null},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"waitForExpression"),(0,r.kt)("td",{parentName:"tr",align:null},"The JavaScript expression to wait before converting an HTML document into PDF until it returns ",(0,r.kt)("em",{parentName:"td"},"true"),"."),(0,r.kt)("td",{parentName:"tr",align:null},"None")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"These form fields do not work if JavaScript is disabled via ",(0,r.kt)("inlineCode",{parentName:"p"},"--chromium-disable-javascript"),"."),(0,r.kt)("p",{parentName:"admonition"},"See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#chromium"},"Chromium module configuration")," for more details.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"waitDelay")),(0,r.kt)("p",null,"When the page relies on JavaScript for rendering, and you don't have access to the page's code, you may want to wait a\ncertain amount of time to make sure Chromium has fully rendered the page you're trying to generate."),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'waitDelay=\"5s\"' \\\n-o my.pdf\n")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"waitForExpression")),(0,r.kt)("p",null,"A more reliable option than the previous form field:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// Somewhere in the HTML document.\nawait promises()\nwindow.status = 'ready'\n")),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'waitForExpression=\"window.status === '\\''ready'\\''\"' \\\n-o my.pdf\n")))),(0,r.kt)("h3",{id:"emulated-media-type"},"Emulated Media Type"),(0,r.kt)("p",null,"Each route accepts the following form field:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"emulatedMediaType"),(0,r.kt)("td",{parentName:"tr",align:null},'The media type to emulate, either "screen" or "print" - empty means "print".'),(0,r.kt)("td",{parentName:"tr",align:null},"print")))),(0,r.kt)("p",null,'Some websites have dedicated CSS rules for print. Using "screen" allows you to force the "standard" CSS rules.'),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'emulatedMediaType=\"screen\"' \\\n-o my.pdf\n")))),(0,r.kt)("h3",{id:"custom-http-headers"},"Custom HTTP Headers"),(0,r.kt)("p",null,"Each route accepts the following form fields:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userAgent"),(0,r.kt)("td",{parentName:"tr",align:null},"Override the default ",(0,r.kt)("inlineCode",{parentName:"td"},"User-Agent")," header."),(0,r.kt)("td",{parentName:"tr",align:null},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"extraHttpHeaders"),(0,r.kt)("td",{parentName:"tr",align:null},"HTTP headers to send by Chromium while loading the HTML document (JSON format)."),(0,r.kt)("td",{parentName:"tr",align:null},"None")))),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4-5}","{4-5}":!0},'curl \\\n--request POST \'http://localhost:3000/forms/chromium/convert/url\' \\\n--form \'url="https://my.url"\' \\\n--form \'userAgent="Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1"\' \\\n--form \'extraHttpHeaders="{\\"MyHeader\\": \\"MyValue\\"}"\' \\\n-o my.pdf\n')))),(0,r.kt)("h3",{id:"console-exceptions"},"Console Exceptions"),(0,r.kt)("p",null,"Each route accepts the following form field:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"failOnConsoleExceptions"),(0,r.kt)("td",{parentName:"tr",align:null},"Return a ",(0,r.kt)("em",{parentName:"td"},"409 Conflict")," response if there are exceptions in the Chromium console."),(0,r.kt)("td",{parentName:"tr",align:null},"false")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This form field does not work if JavaScript is disabled via ",(0,r.kt)("inlineCode",{parentName:"p"},"--chromium-disable-javascript"),"."),(0,r.kt)("p",{parentName:"admonition"},"See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#chromium"},"Chromium module configuration")," for more details.")),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/html' \\\n--form 'files=@\"/path/to/index.html\"' \\\n--form 'failOnConsoleExceptions=\"true\"'\n")))),(0,r.kt)(l.Z,{defaultValue:"409",values:[{label:"409 Conflict",value:"409"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"409",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody:\n\nChromium console exceptions:\n\nexception "Uncaught" (17:10): Error: Exception 1\nat file:///tmp/db09d2c8-31e3-4058-9923-c2705350f2b3/index.html:18:11;\nexception "Uncaught" (20:10): Error: Exception 2\nat file:///tmp/db09d2c8-31e3-4058-9923-c2705350f2b3/index.html:21:11:\n')))),(0,r.kt)("h3",{id:"pdfa-chromium"},"PDF/A"),(0,r.kt)("p",null,"Each route accepts the following form field:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"pdfFormat"),(0,r.kt)("td",{parentName:"tr",align:null},"Convert the resulting PDF into the given PDF/A format."),(0,r.kt)("td",{parentName:"tr",align:null},"None")))),(0,r.kt)("p",null,"At present, the following formats are available:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PDF/A-1a")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PDF/A-2b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PDF/A-3b"))),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'pdfFormat=\"PDF/A-1a\"' \\\n-o my.pdf\n")))),(0,r.kt)("h2",{id:"convert-with-libreoffice"},"Convert with LibreOffice"),(0,r.kt)("p",null,"The next route leverage the capabilities of LibreOffice to effectively transform a diverse range of Office documents\n(Word, Excel, PowerPoint, etc.) into PDFs."),(0,r.kt)("p",null,"Checkout the ",(0,r.kt)("a",{parentName:"p",href:"configuration#libreoffice"},"LibreOffice module configuration")," to tailor the LibreOffice behavior to your needs."),(0,r.kt)("h3",{id:"office-documents-into-pdfs-route"},"Office documents into PDFs ",(0,r.kt)("span",{class:"badge badge--secondary"},"route")),(0,r.kt)("p",null,"This ",(0,r.kt)("em",{parentName:"p"},"multipart/form-data")," route convert one or more Office documents into PDF."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST /forms/libreoffice/convert\n")),(0,r.kt)("p",null,"Currently, the following extensions are supported:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},".bib"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".doc"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".xml"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".docx"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".fodt"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".html"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".ltx"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".txt"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".odt"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".ott"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".pdb"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".pdf"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".psw"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".rtf"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".sdw"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".stw"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".sxw"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".uot"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".vor"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".wps"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".epub"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".png"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".bmp"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".emf"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".eps"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".fodg"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".gif"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".jpg"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".met"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".odd"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".otg"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".pbm"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".pct"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".pgm"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".ppm"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".ras"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".std"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".svg"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".svm"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".swf"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".sxd"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".sxw"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".tiff"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".xhtml"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".xpm"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".fodp"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".potm"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".pot"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".pptx"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".pps"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".ppt"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".pwp"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".sda"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".sdd"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".sti"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".sxi"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".uop"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".wmf"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".csv"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".dbf"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".dif"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".fods"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".ods"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".ots"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".pxl"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".sdc"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".slk"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".stc"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".sxc"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".uos"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".xls"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".xlt"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".xlsx"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".tif"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".jpeg"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".odp"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".odg"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".dotx"),"\xa0","\n",(0,r.kt)("inlineCode",{parentName:"p"},".xltx")),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{3-4}","{3-4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/libreoffice/convert' \\\n--form 'files=@\"/path/to/file.docx\"' \\\n-o my.pdf\n")))),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{3-5}","{3-5}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/libreoffice/convert' \\\n--form 'files=@\"/path/to/file.docx\"' \\\n--form 'files=@\"/path/to/file.xlsx\"' \\\n-o my.zip\n")))),(0,r.kt)(l.Z,{defaultValue:"200",values:[{label:"200 OK",value:"200"},{label:"400 Bad Request",value:"400"},{label:"503 Service Unavailable",value:"503"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"200",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Disposition: attachement; filename={output-filename.ext}\nContent-Type: {content-type}\nContent-Length: {content-length}\nGotenberg-Trace: {trace}\nBody: {output-file}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#request-tracing"},"Request Tracing")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Trace")," header."),(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#output-filename"},"Output Filename")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Output-Filename")," header."))),(0,r.kt)(o.Z,{value:"400",mdxType:"TabItem"},(0,r.kt)("p",null,"This errors happens if one ore more form fields are invalid."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: {error}\n"))),(0,r.kt)(o.Z,{value:"503",mdxType:"TabItem"},(0,r.kt)("p",null,"If a request doesn't complete within a specified duration, the API will respond with a ",(0,r.kt)("em",{parentName:"p"},"503 Service Unavailable")," status."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#api"},"API module configuration")," for more details."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: Service Unavailable\n")))),(0,r.kt)("h3",{id:"page-properties-libreoffice"},"Page Properties"),(0,r.kt)("p",null,"The route also accepts the following form fields:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"landscape"),(0,r.kt)("td",{parentName:"tr",align:null},"Set the paper orientation to landscape."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nativePageRanges"),(0,r.kt)("td",{parentName:"tr",align:null},"Page ranges to print, e.g., '1-4' - empty means all pages."),(0,r.kt)("td",{parentName:"tr",align:null},"All pages")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"If multiple files are provided, the page ranges will be applied independently to each file.")),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4-5}","{4-5}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/libreoffice/convert' \\\n--form 'files=@\"/path/to/file.docx\"' \\\n--form 'landscape=\"true\"' \\\n--form 'nativePageRanges=\"1-5\"' \\\n-o my.pdf\n")))),(0,r.kt)("h3",{id:"pdfa-libreoffice"},"PDF/A"),(0,r.kt)("p",null,"The route also accepts the following form field:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"nativePdfFormat"),(0,r.kt)("td",{parentName:"tr",align:null},"Convert the resulting PDF into the given PDF/A format."),(0,r.kt)("td",{parentName:"tr",align:null},"None")))),(0,r.kt)("p",null,"At present, the following formats are available:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PDF/A-1a")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PDF/A-2b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PDF/A-3b"))),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/libreoffice/convert' \\\n--form 'files=@\"/path/to/file.docx\"' \\\n--form 'nativePdfFormat=\"PDF/A-1a\"' \\\n-o my.pdf\n")))),(0,r.kt)("h2",{id:"convert-into-pdfa-route"},"Convert into PDF/A ",(0,r.kt)("span",{class:"badge badge--secondary"},"route")),(0,r.kt)("p",null,"This ",(0,r.kt)("em",{parentName:"p"},"multipart/form-data")," route transform one or more PDF file into the requested PDF/A format."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST /forms/pdfengines/convert`\n")),(0,r.kt)("p",null,"It accepts the following form files and form field:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"*.pdf"),(0,r.kt)("td",{parentName:"tr",align:null},"At least one PDF file."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--danger"},"required"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"pdfFormat"),(0,r.kt)("td",{parentName:"tr",align:null},"Convert the resulting PDF into the given PDF/A format."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--danger"},"required"))))),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4-5}","{4-5}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/pdfengines/convert' \\\n--form 'files=@\"/path/to/pdf.pdf\"' \\\n--form 'pdfFormat=\"PDF/A-1a\"' \\\n-o my.pdf\n")))),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{7-8}","{7-8}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/pdfengines/convert' \\\n--form 'files=@\"/path/to/pdf1.pdf\"' \\\n--form 'files=@\"/path/to/pdf2.pdf\"' \\\n--form 'files=@\"/path/to/pdf3.pdf\"' \\\n--form 'files=@\"/path/to/pdf4.pdf\"' \\\n--form 'pdfFormat=\"PDF/A-1a\"' \\\n-o my.zip\n")))),(0,r.kt)(l.Z,{defaultValue:"200",values:[{label:"200 OK",value:"200"},{label:"400 Bad Request",value:"400"},{label:"503 Service Unavailable",value:"503"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"200",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Disposition: attachement; filename={output-filename.ext}\nContent-Type: {content-type}\nContent-Length: {content-length}\nGotenberg-Trace: {trace}\nBody: {output-file}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#request-tracing"},"Request Tracing")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Trace")," header."),(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#output-filename"},"Output Filename")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Output-Filename")," header."))),(0,r.kt)(o.Z,{value:"400",mdxType:"TabItem"},(0,r.kt)("p",null,"This errors happens if one ore more form fields are invalid."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: {error}\n"))),(0,r.kt)(o.Z,{value:"503",mdxType:"TabItem"},(0,r.kt)("p",null,"If a request doesn't complete within a specified duration, the API will respond with a ",(0,r.kt)("em",{parentName:"p"},"503 Service Unavailable")," status."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#api"},"API module configuration")," for more details."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: Service Unavailable\n")))),(0,r.kt)("h2",{id:"merge-pdfs-route"},"Merge PDFs ",(0,r.kt)("span",{class:"badge badge--secondary"},"route")),(0,r.kt)("p",null,"This ",(0,r.kt)("em",{parentName:"p"},"multipart/form-data")," route accepts PDF files and merges them alphabetically."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST /forms/pdfengines/merge\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"*.pdf"),(0,r.kt)("td",{parentName:"tr",align:null},"PDF files."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--danger"},"required"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"pdfFormat"),(0,r.kt)("td",{parentName:"tr",align:null},"Convert the resulting PDF into the given PDF/A format."),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("p",null,"At present, the following formats are available:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PDF/A-1a")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PDF/A-2b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PDF/A-3b"))),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{3-6}","{3-6}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/pdfengines/merge' \\\n--form 'files=@\"/path/to/pdf1.pdf\"' \\\n--form 'files=@\"/path/to/pdf2.pdf\"' \\\n--form 'files=@\"/path/to/pdf3.pdf\"' \\\n--form 'files=@\"/path/to/pdf4.pdf\"' \\\n-o my.pdf\n")))),(0,r.kt)(l.Z,{defaultValue:"200",values:[{label:"200 OK",value:"200"},{label:"400 Bad Request",value:"400"},{label:"503 Service Unavailable",value:"503"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"200",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Disposition: attachement; filename={output-filename.pdf}\nContent-Type: {content-type}\nContent-Length: {content-length}\nGotenberg-Trace: {trace}\nBody: {output-file}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#request-tracing"},"Request Tracing")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Trace")," header."),(0,r.kt)("li",{parentName:"ul"},"See the ",(0,r.kt)("a",{parentName:"li",href:"#output-filename"},"Output Filename")," section for more information about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Gotenberg-Output-Filename")," header."))),(0,r.kt)(o.Z,{value:"400",mdxType:"TabItem"},(0,r.kt)("p",null,"This errors happens if one ore more form fields are invalid."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: {error}\n"))),(0,r.kt)(o.Z,{value:"503",mdxType:"TabItem"},(0,r.kt)("p",null,"If a request doesn't complete within a specified duration, the API will respond with a ",(0,r.kt)("em",{parentName:"p"},"503 Service Unavailable")," status."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#api"},"API module configuration")," for more details."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Content-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\nBody: Service Unavailable\n")))),(0,r.kt)("h2",{id:"health-check-route"},"Health Check ",(0,r.kt)("span",{class:"badge badge--secondary"},"route")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"GET /health\n")),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{3-6}","{3-6}":!0},"curl --request GET 'http://localhost:3000/health'\n")))),(0,r.kt)(l.Z,{defaultValue:"200",values:[{label:"200 OK",value:"200"},{label:"503 Service Unavailable",value:"503"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"200",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "status": "up",\n    "details": {\n        "chromium": {\n            "status": "up",\n            "timestamp": "2021-07-01T08:05:14.603364Z"\n        },\n        "uno": {\n            "status": "up",\n            "timestamp": "2021-07-01T08:05:14.603364Z"\n        }\n    }\n}\n'))),(0,r.kt)(o.Z,{value:"503",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "status": "down",\n    "details": {\n        "chromium": {\n            "status": "up",\n            "timestamp": "2021-07-01T08:05:14.603364Z"\n        },\n        "uno": {\n            "status": "down",\n            "timestamp": "2021-07-01T08:05:14.603364Z",\n            "error": "long-running LibreOffice listener unhealthy"\n        }\n    }\n}\n')))),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"details")," entry gathers the health checks from modules:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The Chromium module checks if it has not reached a consecutive starting failures number."),(0,r.kt)("li",{parentName:"ul"},"The UNO module checks if the long-running LibreOffice listener is healthy.")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Depending on the configuration of the modules, these checks may not be executed."),(0,r.kt)("p",{parentName:"admonition"},"See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#chromium"},"Chromium module configuration")," and the\n",(0,r.kt)("a",{parentName:"p",href:"configuration#libreoffice"},"Libreoffice module configuration")," for more information.")),(0,r.kt)("h2",{id:"metrics-route"},"Metrics ",(0,r.kt)("span",{class:"badge badge--secondary"},"route")),(0,r.kt)("p",null,"This route exposes the metrics from other modules using the ",(0,r.kt)("a",{parentName:"p",href:"https://prometheus.io/"},"Prometheus")," format."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"GET /prometheus/metrics\n")),(0,r.kt)("p",null,"Currently, the metrics include:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Metric"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"{namespace}_chromium_active_instances_count")),(0,r.kt)("td",{parentName:"tr",align:null},"Current number of active Chromium instances.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"{namespace}_chromium_failed_starts_count")),(0,r.kt)("td",{parentName:"tr",align:null},"Current number of Chromium consecutive starting failures.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"{namespace}_unoconv_active_instances_count")),(0,r.kt)("td",{parentName:"tr",align:null},"Current number of active unoconv instances.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"{namespace}_libreoffice_listener_active_instances_count")),(0,r.kt)("td",{parentName:"tr",align:null},"Current number of active LibreOffice listener instances.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"{namespace}_libreoffice_listener_queue_length")),(0,r.kt)("td",{parentName:"tr",align:null},"Current number of processes in the LibreOffice listener queue.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"{namespace}_pdftk_active_instances_count")),(0,r.kt)("td",{parentName:"tr",align:null},"Current number of active PDFtk instances.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"{namespace}_qpdf_active_instances_count")),(0,r.kt)("td",{parentName:"tr",align:null},"Current number of active QPDF instances.")))),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#prometheus"},"Prometheus module configuration")," for more information."),(0,r.kt)("h2",{id:"request-tracing"},"Request Tracing"),(0,r.kt)("p",null,"A trace, or request ID, serves to identify a specific request in the logs."),(0,r.kt)("p",null,"By default, the API assigns a unique UUID trace to every request. However, you also have the option to specify the trace\nfor each request using the ",(0,r.kt)("inlineCode",{parentName:"p"},"Gotenberg-Trace")," header."),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{3}","{3}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--header 'Gotenberg-Trace: debug' \\\n--form 'url=\"https://my.url\"' \\\n-o my.pdf\n")))),(0,r.kt)("p",null,"The API also incorporates a ",(0,r.kt)("inlineCode",{parentName:"p"},"Gotenberg-Trace")," header into each response. If you're utilizing the ",(0,r.kt)("a",{parentName:"p",href:"webhook"},"webhook feature"),",\nthis header will also be added to each request made to your callbacks."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"--api-trace-header")," flag allows you to configure the header key. See the ",(0,r.kt)("a",{parentName:"p",href:"configuration#api"},"API module configuration")," for more details.")),(0,r.kt)("h2",{id:"output-filename"},"Output Filename"),(0,r.kt)("p",null,"By default, for ",(0,r.kt)("em",{parentName:"p"},"multipart/form-data")," endpoints, the API generates a response with a UUID filename.\nHowever, you have the option to specify the filename for each request using the ",(0,r.kt)("inlineCode",{parentName:"p"},"Gotenberg-Output-Filename")," header."),(0,r.kt)(l.Z,{defaultValue:"curl",values:[{label:"cURL",value:"curl"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{3}","{3}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--header 'Gotenberg-Output-Filename: my_filename' \\\n--form 'url=\"https://my.url\"' \\\n-O -J\n")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The API automatically appends the file extension, so there's no need for you to set it manually.")))}c.isMDXComponent=!0}}]);