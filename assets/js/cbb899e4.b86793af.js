"use strict";(self.webpackChunkgotenberg_dev=self.webpackChunkgotenberg_dev||[]).push([[196],{5590:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>a,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=s(5893),t=s(1151);const i={id:"configuration",title:"Configuration"},d=void 0,l={id:"configuration",title:"Configuration",description:"The Docker image internally employs a binary that offers flags to configure its multiple modules. This guide contains a",source:"@site/docs/configuration.mdx",sourceDirName:".",slug:"/configuration",permalink:"/docs/configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/gotenberg/gotenberg.dev/edit/main/docs/configuration.mdx",tags:[],version:"current",frontMatter:{id:"configuration",title:"Configuration"},sidebar:"version-7.x",previous:{title:"Webhook",permalink:"/docs/webhook"},next:{title:"Troubleshooting",permalink:"/docs/troubleshooting"}},o={},c=[{value:"API",id:"api",level:2},{value:"Chromium",id:"chromium",level:2},{value:"LibreOffice",id:"libreoffice",level:2},{value:"Stateful or Stateless",id:"stateful-or-stateless",level:3},{value:"Switch Language",id:"switch-language",level:3},{value:"PDF Engines",id:"pdf-engines",level:2},{value:"Webhook",id:"webhook",level:2},{value:"Prometheus",id:"prometheus",level:2},{value:"Logging",id:"logging",level:2},{value:"Graceful Shutdown",id:"graceful-shutdown",level:2},{value:"Docker Image",id:"docker-image",level:2},{value:"Fonts",id:"fonts",level:3},{value:"Ownership",id:"ownership",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"The Docker image internally employs a binary that offers flags to configure its multiple modules. This guide contains a\ncomprehensive list of flags that you can use to fine-tune Gotenberg according to your specific requirements."}),"\n",(0,r.jsx)(n.h2,{id:"api",children:"API"}),"\n",(0,r.jsx)(n.p,{children:"The API module is an HTTP/1 and HTTP/2 (H2C) server."}),"\n",(0,r.jsx)(n.p,{children:"The following flags allow you to configure the API module:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Flag"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--api-port"})}),(0,r.jsx)(n.td,{children:"Set the port on which the API should listen."}),(0,r.jsx)(n.td,{children:"3000"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--api-port-from-env"})}),(0,r.jsx)(n.td,{children:"Set the environment variable with the port on which the API should listen - override the default port."}),(0,r.jsx)(n.td,{children:"None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--api-timeout"})}),(0,r.jsx)(n.td,{children:"Set the time limit for requests."}),(0,r.jsx)(n.td,{children:"30s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--api-root-path"})}),(0,r.jsx)(n.td,{children:"Set the root path of the API - for service discovery via URL paths."}),(0,r.jsx)(n.td,{children:"/"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--api-trace-header"})}),(0,r.jsx)(n.td,{children:"Set the header name to use for identifying requests."}),(0,r.jsx)(n.td,{children:"Gotenberg-Trace"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--api-disable-health-check-logging"})}),(0,r.jsx)(n.td,{children:"Disable health check logging."}),(0,r.jsx)(n.td,{children:"false"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"chromium",children:"Chromium"}),"\n",(0,r.jsx)(n.p,{children:"The Chromium module interacts with the Chromium browser to convert HTML documents to PDF."}),"\n",(0,r.jsx)(n.p,{children:"The following flags allow you to configure the Chromium module:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Flag"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-allow-file-access-from-files"})}),(0,r.jsx)(n.td,{children:"Allow file:// URIs to read other file:// URIs."}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-allow-insecure-localhost"})}),(0,r.jsx)(n.td,{children:"Ignore TLS/SSL errors on localhost."}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-allow-list"})}),(0,r.jsx)(n.td,{children:"Set the allowed URLs for Chromium using a regular expression."}),(0,r.jsx)(n.td,{children:"All"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-deny-list"})}),(0,r.jsx)(n.td,{children:"Set the denied URLs for Chromium using a regular expression."}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"^file:///[^tmp].*"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-ignore-certificate-errors"})}),(0,r.jsx)(n.td,{children:"Ignore the certificate errors."}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-disable-web-security"})}),(0,r.jsx)(n.td,{children:"Don't enforce the same-origin policy."}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-incognito"})}),(0,r.jsx)(n.td,{children:"Start Chromium with incognito mode."}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-failed-starts-threshold"})}),(0,r.jsx)(n.td,{children:"Set the number of consecutive failed starts after which the module is considered unhealthy."}),(0,r.jsx)(n.td,{children:"5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-host-resolver-rules"})}),(0,r.jsx)(n.td,{children:"Set custom mappings to the host resolver."}),(0,r.jsx)(n.td,{children:"None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-proxy-server"})}),(0,r.jsx)(n.td,{children:"Set the outbound proxy server; this switch only affects HTTP and HTTPS requests."}),(0,r.jsx)(n.td,{children:"None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-disable-javascript"})}),(0,r.jsx)(n.td,{children:"Disable JavaScript."}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--chromium-disable-routes"})}),(0,r.jsx)(n.td,{children:"Disable the routes."}),(0,r.jsx)(n.td,{children:"false"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"It starts a dedicated Chromium instance for each conversion."})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["If ",(0,r.jsx)(n.code,{children:"--chromium-failed-starts-threshold=0"}),", there is no health check for this module."]})}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"amd64"})," Docker image uses Google Chrome stable, while other architectures use an earlier version of Chromium."]})}),"\n",(0,r.jsx)(n.h2,{id:"libreoffice",children:"LibreOffice"}),"\n",(0,r.jsxs)(n.p,{children:["The LibreOffice module interacts with ",(0,r.jsx)(n.a,{href:"https://www.libreoffice.org/",children:"LibreOffice"})," to convert numerous documents to PDF,\nthanks to ",(0,r.jsx)(n.a,{href:"https://github.com/unoconv/unoconv",children:"unoconv"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"The following flags allow you to configure the LibreOffice module:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Flag"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--libreoffice-disable-routes"})}),(0,r.jsx)(n.td,{children:"Disable the route."}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--uno-listener-start-timeout"})}),(0,r.jsx)(n.td,{children:"Time limit for starting the LibreOffice listener."}),(0,r.jsx)(n.td,{children:"10s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--uno-listener-restart-threshold"})}),(0,r.jsx)(n.td,{children:"Conversions limit after which the LibreOffice listener is restarted."}),(0,r.jsx)(n.td,{children:"10"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"stateful-or-stateless",children:"Stateful or Stateless"}),"\n",(0,r.jsx)(n.p,{children:"By default, a long-running LibreOffice listener handles the conversions. This stateful mode allows for faster unitary\nconversion, but there is a lock mechanism as a single LibreOffice listener cannot perform parallel operations."}),"\n",(0,r.jsxs)(n.p,{children:["In other words, under heavy load, you should consider scaling up your number of Gotenberg instances or switch the LibreOffice\nmodule to a stateless mode with ",(0,r.jsx)(n.code,{children:"--uno-listener-restart-threshold=0"})," (i.e., a dedicated LibreOffice listener per conversion)."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"Gotenberg restarts the long-running LibreOffice listener if it is unhealthy before and after a conversion."})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["If ",(0,r.jsx)(n.code,{children:"--uno-listener-restart-threshold=0"})," (i.e., stateless mode), there is no health check for this module."]})}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"--uno-*"})," properties also impact the performance of the UNO PDF engine (see ",(0,r.jsx)(n.a,{href:"#pdf-engines",children:"PDF Engines"}),")."]})}),"\n",(0,r.jsx)(n.h3,{id:"switch-language",children:"Switch Language"}),"\n",(0,r.jsx)(n.p,{children:"By default, LibreOffice uses the English language when it converts documents to PDF. You may override this behavior by\nbuilding your own Docker image."}),"\n",(0,r.jsx)(n.p,{children:"For instance, with the German language:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-docker",children:"FROM gotenberg/gotenberg:7\n\nUSER root\n\nRUN apt-get update -qq &&\\\n    DEBIAN_FRONTEND=noninteractive apt-get install -y -qq --no-install-recommends -t bullseye-backports libreoffice-l10n-de &&\\\n    sed -i '/de_DE.UTF-8/s/^# //g' /etc/locale.gen &&\\\n    locale-gen &&\\\n    # Cleanup.\n    # Note: the Debian image does automatically a clean after each install thanks to a hook.\n    # Therefore, there is no need for apt-get clean.\n    # See https://stackoverflow.com/a/24417119/3248473.\n    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nENV LANG de_DE.UTF-8\nENV LANGUAGE de_DE:de\nENV LC_ALL de_DE.UTF-8\n\nUSER gotenberg\n"})}),"\n",(0,r.jsx)(n.h2,{id:"pdf-engines",children:"PDF Engines"}),"\n",(0,r.jsx)(n.p,{children:"The PDF Engines module gathers all engines that can manipulate PDF files. It calls each engine until one successfully\nhandles a task. A PDF engine is an external tool that Gotenberg leverages to perform a specific task, such as merging\nPDF files."}),"\n",(0,r.jsx)(n.p,{children:"Currently, Gotenberg supports the following PDF engines:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Engine"}),(0,r.jsx)(n.th,{children:"Merge"}),(0,r.jsx)(n.th,{children:"Convert into PDF/A"}),(0,r.jsx)(n.th,{children:"Name"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://gitlab.com/pdftk-java/pdftk",children:"PDFtk"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"pdtk"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/pdfcpu/pdfcpu",children:"PDFcpu"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"pdcpu"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/qpdf/qpdf",children:"QPDF"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"qpdf"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/unoconv/unoconv",children:"UNO"})}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"uno-pdfengine"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"The following flags allow you to configure the PDF Engines module:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Flag"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--pdfengines-engines"})}),(0,r.jsx)(n.td,{children:"Set the PDF engines and their order."}),(0,r.jsx)(n.td,{children:"All"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--pdfengines-disable-routes"})}),(0,r.jsx)(n.td,{children:"Disable the routes."}),(0,r.jsx)(n.td,{children:"false"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["For instance, the value ",(0,r.jsx)(n.em,{children:'"pdftk,uno-pdfengine"'})," selects PDFtk as the first engine, and UNO as the second."]})}),"\n",(0,r.jsx)(n.h2,{id:"webhook",children:"Webhook"}),"\n",(0,r.jsxs)(n.p,{children:["The webhook feature enables Gotenberg to upload the output file originating from ",(0,r.jsx)(n.em,{children:"multipart/form-data"})," routes to a\nselected destination."]}),"\n",(0,r.jsx)(n.p,{children:"The following flags allow you to configure the Webhook module:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Flag"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--webhook-allow-list"})}),(0,r.jsx)(n.td,{children:"Set the allowed URLs for the webhook feature using a regular expression."}),(0,r.jsx)(n.td,{children:"All"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--webhook-deny-list"})}),(0,r.jsx)(n.td,{children:"Set the denied URLs for the webhook feature using a regular expression."}),(0,r.jsx)(n.td,{children:"None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--webhook-error-allow-list"})}),(0,r.jsx)(n.td,{children:"Set the allowed URLs in case of an error for the webhook feature using a regular expression."}),(0,r.jsx)(n.td,{children:"All"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--webhook-error-deny-list"})}),(0,r.jsx)(n.td,{children:"Set the denied URLs in case of an error for the webhook feature using a regular expression."}),(0,r.jsx)(n.td,{children:"None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--webhook-max-retry"})}),(0,r.jsx)(n.td,{children:"Set the maximum number of retries for the webhook feature."}),(0,r.jsx)(n.td,{children:"4"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--webhook-retry-min-wait"})}),(0,r.jsx)(n.td,{children:"Set the minimum duration to wait before trying to call the webhook again."}),(0,r.jsx)(n.td,{children:"1s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--webhook-retry-max-wait"})}),(0,r.jsx)(n.td,{children:"Set the maximum duration to wait before trying to call the webhook again."}),(0,r.jsx)(n.td,{children:"30s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--webhook-client-timeout"})}),(0,r.jsx)(n.td,{children:"Set the time limit for requests to the webhook."}),(0,r.jsx)(n.td,{children:"30s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--webhook-disable"})}),(0,r.jsx)(n.td,{children:"Disable the webhook feature."}),(0,r.jsx)(n.td,{children:"false"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"prometheus",children:"Prometheus"}),"\n",(0,r.jsxs)(n.p,{children:["The Prometheus module collects metrics from other modules and exposes an HTTP endpoint that can be scraped by\n",(0,r.jsx)(n.a,{href:"https://prometheus.io/",children:"Prometheus"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"The following flags allow you to configure the Prometheus module:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Flag"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--prometheus-collect-interval"})}),(0,r.jsx)(n.td,{children:"Set the interval for collecting modules' metrics."}),(0,r.jsx)(n.td,{children:"1s"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--prometheus-namespace"})}),(0,r.jsx)(n.td,{children:"Set the namespace of modules' metrics."}),(0,r.jsx)(n.td,{children:"gotenberg"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--prometheus-disable-collect"})}),(0,r.jsx)(n.td,{children:"Disable the collect of metrics."}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--prometheus-disable-route-logging"})}),(0,r.jsx)(n.td,{children:"Disable the route logging."}),(0,r.jsx)(n.td,{children:"false"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"logging",children:"Logging"}),"\n",(0,r.jsx)(n.p,{children:"Gotenberg employs a logger that generates structured logs. Structured logs are formatted in a standardized,\nmachine-readable way, making them extremely beneficial for centralized log management."}),"\n",(0,r.jsx)(n.p,{children:"The following flags allow you to configure the logger:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Flag"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--log-format"})}),(0,r.jsx)(n.td,{children:"Specify the format of logging. Options include auto, json, or text."}),(0,r.jsx)(n.td,{children:"auto"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--log-level"})}),(0,r.jsx)(n.td,{children:"Choose the level of logging detail. Options include error, warn, info, or debug."}),(0,r.jsx)(n.td,{children:"info"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--log-fields-prefix"})}),(0,r.jsx)(n.td,{children:"Prepend a specified prefix to each field in the logs."}),(0,r.jsx)(n.td,{children:"None"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"graceful-shutdown",children:"Graceful Shutdown"}),"\n",(0,r.jsx)(n.p,{children:"To ensure running tasks have sufficient time to complete, Gotenberg waits for a specific duration before initiating the\nshutdown process. It may stop earlier if all tasks have completed."}),"\n",(0,r.jsx)(n.p,{children:"The following flag allows you to configure this duration:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Flag"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("span",{class:"badge badge--secondary",children:"--gotenberg-graceful-shutdown-duration"})}),(0,r.jsx)(n.td,{children:"Set the graceful shutdown duration."}),(0,r.jsx)(n.td,{children:"30s"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"docker-image",children:"Docker Image"}),"\n",(0,r.jsx)(n.h3,{id:"fonts",children:"Fonts"}),"\n",(0,r.jsx)(n.p,{children:"The default Docker image is pre-packaged with an extensive assortment of fonts, including Asian ones. If your application\nrequires additional or specific fonts not included in this collection, you'll need to construct a tailored Docker image\nto incorporate those fonts."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Via .tff files"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-docker",children:"FROM gotenberg/gotenberg:7\n\nUSER root\n\nCOPY /local/path/to/{font}.ttf /usr/local/share/fonts/{font}.ttf\n\nUSER gotenberg\n"})}),"\n",(0,r.jsx)(n.p,{children:"Or, if you have many fonts:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-docker",children:"FROM gotenberg/gotenberg:7\n\nUSER root\n\nCOPY /local/path/to/fonts/* /usr/local/share/fonts/\n\nUSER gotenberg\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Via .deb packages"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-docker",children:"FROM gotenberg/gotenberg:7\n\nUSER root\n\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y -qq --no-install-recommends my-fonts-package\n\nUSER gotenberg\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["You could also mount a volume containing your fonts to ",(0,r.jsx)(n.em,{children:"/usr/local/share/fonts/"})," as suggested in this\n",(0,r.jsx)(n.a,{href:"https://github.com/gotenberg/gotenberg/issues/602#issue-1580360200",children:"comment"}),"."]})}),"\n",(0,r.jsx)(n.h3,{id:"ownership",children:"Ownership"}),"\n",(0,r.jsxs)(n.p,{children:["The Docker image employs a specific non-root user, named ",(0,r.jsx)(n.em,{children:"gotenberg"}),", with a User ID (uid) and Group ID (gid) of ",(0,r.jsx)(n.strong,{children:"1001"}),".\nIf you want to change these identifiers, you will have to build a custom Docker image:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-docker",children:"FROM gotenberg/gotenberg:7\n\nUSER root\n\nRUN usermod -u {uid} -g {gid} gotenberg\n\nUSER gotenberg\n"})})]})}function a(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>l,a:()=>d});var r=s(7294);const t={},i=r.createContext(t);function d(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);