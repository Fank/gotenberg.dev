"use strict";(self.webpackChunkgotenberg_dev=self.webpackChunkgotenberg_dev||[]).push([[196],{4137:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>m});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),d=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},p=function(t){var e=d(t.components);return n.createElement(s.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},g=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,s=t.parentName,p=i(t,["components","mdxType","originalType","parentName"]),g=d(a),m=r,k=g["".concat(s,".").concat(m)]||g[m]||u[m]||l;return a?n.createElement(k,o(o({ref:e},p),{},{components:a})):n.createElement(k,o({ref:e},p))}));function m(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,o=new Array(l);o[0]=g;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=t,i.mdxType="string"==typeof t?t:r,o[1]=i;for(var d=2;d<l;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},471:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var n=a(7462),r=(a(7294),a(4137));const l={id:"configuration",title:"Configuration"},o=void 0,i={unversionedId:"configuration",id:"configuration",title:"Configuration",description:"The Docker image internally employs a binary that offers flags to configure its multiple modules. This guide contains a",source:"@site/docs/configuration.mdx",sourceDirName:".",slug:"/configuration",permalink:"/docs/configuration",draft:!1,editUrl:"https://github.com/gotenberg/gotenberg.dev/edit/main/docs/configuration.mdx",tags:[],version:"current",frontMatter:{id:"configuration",title:"Configuration"},sidebar:"version-7.x",previous:{title:"Webhook",permalink:"/docs/webhook"},next:{title:"Troubleshooting",permalink:"/docs/troubleshooting"}},s={},d=[{value:"API",id:"api",level:2},{value:"Chromium",id:"chromium",level:2},{value:"LibreOffice",id:"libreoffice",level:2},{value:"Stateful or Stateless",id:"stateful-or-stateless",level:3},{value:"Switch Language",id:"switch-language",level:3},{value:"PDF Engines",id:"pdf-engines",level:2},{value:"Webhook",id:"webhook",level:2},{value:"Prometheus",id:"prometheus",level:2},{value:"Logging",id:"logging",level:2},{value:"Graceful Shutdown",id:"graceful-shutdown",level:2},{value:"Docker Image",id:"docker-image",level:2},{value:"Fonts",id:"fonts",level:3},{value:"Ownership",id:"ownership",level:3}],p={toc:d};function u(t){let{components:e,...a}=t;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The Docker image internally employs a binary that offers flags to configure its multiple modules. This guide contains a\ncomprehensive list of flags that you can use to fine-tune Gotenberg according to your specific requirements."),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("p",null,"The API module is an HTTP/1 and HTTP/2 (H2C) server."),(0,r.kt)("p",null,"The following flags allow you to configure the API module:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Flag"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--api-port")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the port on which the API should listen."),(0,r.kt)("td",{parentName:"tr",align:null},"3000")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--api-port-from-envt")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the environment variable with the port on which the API should listen - override the default port."),(0,r.kt)("td",{parentName:"tr",align:null},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--api-timeout")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the time limit for requests."),(0,r.kt)("td",{parentName:"tr",align:null},"30s")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--api-root-path")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the root path of the API - for service discovery via URL paths."),(0,r.kt)("td",{parentName:"tr",align:null},"/")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--api-trace-header")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the header name to use for identifying requests."),(0,r.kt)("td",{parentName:"tr",align:null},"Gotenberg-Trace")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--api-disable-health-check-logging")),(0,r.kt)("td",{parentName:"tr",align:null},"Disable health check logging."),(0,r.kt)("td",{parentName:"tr",align:null},"false")))),(0,r.kt)("h2",{id:"chromium"},"Chromium"),(0,r.kt)("p",null,"The Chromium module interacts with the Chromium browser to convert HTML documents to PDF."),(0,r.kt)("p",null,"The following flags allow you to configure the Chromium module:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Flag"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-allow-file-access-from-files")),(0,r.kt)("td",{parentName:"tr",align:null},"Allow file:// URIs to read other file:// URIs."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-allow-insecure-localhost")),(0,r.kt)("td",{parentName:"tr",align:null},"Ignore TLS/SSL errors on localhost."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-allow-list")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the allowed URLs for Chromium using a regular expression."),(0,r.kt)("td",{parentName:"tr",align:null},"All")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-deny-list")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the denied URLs for Chromium using a regular expression."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"^file:///[^tmp].*"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-ignore-certificate-errors")),(0,r.kt)("td",{parentName:"tr",align:null},"Ignore the certificate errors."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-disable-web-security")),(0,r.kt)("td",{parentName:"tr",align:null},"Don't enforce the same-origin policy."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-incognito")),(0,r.kt)("td",{parentName:"tr",align:null},"Start Chromium with incognito mode."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-failed-starts-threshold")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the number of consecutive failed starts after which the module is considered unhealthy."),(0,r.kt)("td",{parentName:"tr",align:null},"5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-host-resolver-rules")),(0,r.kt)("td",{parentName:"tr",align:null},"Set custom mappings to the host resolver."),(0,r.kt)("td",{parentName:"tr",align:null},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-proxy-server")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the outbound proxy server; this switch only affects HTTP and HTTPS requests."),(0,r.kt)("td",{parentName:"tr",align:null},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-disable-javascript")),(0,r.kt)("td",{parentName:"tr",align:null},"Disable JavaScript."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--chromium-disable-routes")),(0,r.kt)("td",{parentName:"tr",align:null},"Disable the routes."),(0,r.kt)("td",{parentName:"tr",align:null},"false")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"It starts a dedicated Chromium instance for each conversion.")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"If ",(0,r.kt)("inlineCode",{parentName:"p"},"--chromium-failed-starts-threshold=0"),", there is no health check for this module.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"amd64")," Docker image uses Google Chrome stable, while other architectures use an earlier version of Chromium.")),(0,r.kt)("h2",{id:"libreoffice"},"LibreOffice"),(0,r.kt)("p",null,"The LibreOffice module interacts with ",(0,r.kt)("a",{parentName:"p",href:"https://www.libreoffice.org/"},"LibreOffice")," to convert numerous documents to PDF,\nthanks to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/unoconv/unoconv"},"unoconv"),"."),(0,r.kt)("p",null,"The following flags allow you to configure the LibreOffice module:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Flag"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--libreoffice-disable-routes")),(0,r.kt)("td",{parentName:"tr",align:null},"Disable the route."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--uno-listener-start-timeout")),(0,r.kt)("td",{parentName:"tr",align:null},"Time limit for starting the LibreOffice listener."),(0,r.kt)("td",{parentName:"tr",align:null},"10s")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--uno-listener-restart-threshold")),(0,r.kt)("td",{parentName:"tr",align:null},"Conversions limit after which the LibreOffice listener is restarted."),(0,r.kt)("td",{parentName:"tr",align:null},"10")))),(0,r.kt)("h3",{id:"stateful-or-stateless"},"Stateful or Stateless"),(0,r.kt)("p",null,"By default, a long-running LibreOffice listener handles the conversions. This stateful mode allows for faster unitary\nconversion, but there is a lock mechanism as a single LibreOffice listener cannot perform parallel operations."),(0,r.kt)("p",null,"In other words, under heavy load, you should consider scaling up your number of Gotenberg instances or switch the LibreOffice\nmodule to a stateless mode with ",(0,r.kt)("inlineCode",{parentName:"p"},"--uno-listener-restart-threshold=0")," (i.e., a dedicated LibreOffice listener per conversion)."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Gotenberg restarts the long-running LibreOffice listener if it is unhealthy before and after a conversion.")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"If ",(0,r.kt)("inlineCode",{parentName:"p"},"--uno-listener-restart-threshold=0")," (i.e., stateless mode), there is no health check for this module.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"--uno-*")," properties also impact the performance of the UNO PDF engine (see ",(0,r.kt)("a",{parentName:"p",href:"#pdf-engines"},"PDF Engines"),").")),(0,r.kt)("h3",{id:"switch-language"},"Switch Language"),(0,r.kt)("p",null,"By default, LibreOffice uses the English language when it converts documents to PDF. You may override this behavior by\nbuilding your own Docker image."),(0,r.kt)("p",null,"For instance, with the German language:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"FROM gotenberg/gotenberg:7\n\nUSER root\n\nRUN apt-get update -qq &&\\\n    DEBIAN_FRONTEND=noninteractive apt-get install -y -qq --no-install-recommends -t bullseye-backports libreoffice-l10n-de &&\\\n    sed -i '/de_DE.UTF-8/s/^# //g' /etc/locale.gen &&\\\n    locale-gen &&\\\n    # Cleanup.\n    # Note: the Debian image does automatically a clean after each install thanks to a hook.\n    # Therefore, there is no need for apt-get clean.\n    # See https://stackoverflow.com/a/24417119/3248473.\n    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nENV LANG de_DE.UTF-8\nENV LANGUAGE de_DE:de\nENV LC_ALL de_DE.UTF-8\n\nUSER gotenberg\n")),(0,r.kt)("h2",{id:"pdf-engines"},"PDF Engines"),(0,r.kt)("p",null,"The PDF Engines module gathers all engines that can manipulate PDF files. It calls each engine until one successfully\nhandles a task. A PDF engine is an external tool that Gotenberg leverages to perform a specific task, such as merging\nPDF files."),(0,r.kt)("p",null,"Currently, Gotenberg supports the following PDF engines:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Engine"),(0,r.kt)("th",{parentName:"tr",align:null},"Merge"),(0,r.kt)("th",{parentName:"tr",align:null},"Convert into PDF/A"),(0,r.kt)("th",{parentName:"tr",align:null},"Name"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://gitlab.com/pdftk-java/pdftk"},"PDFtk")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"pdtk")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/pdfcpu/pdfcpu"},"PDFcpu")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"pdcpu")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/qpdf/qpdf"},"QPDF")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"qpdf")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/unoconv/unoconv"},"UNO")),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"uno-pdfengine")))),(0,r.kt)("p",null,"The following flags allow you to configure the PDF Engines module:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Flag"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--pdfengines-engines")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the PDF engines and their order."),(0,r.kt)("td",{parentName:"tr",align:null},"All")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--pdfengines-disable-routes")),(0,r.kt)("td",{parentName:"tr",align:null},"Disable the routes."),(0,r.kt)("td",{parentName:"tr",align:null},"false")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"For instance, the value ",(0,r.kt)("em",{parentName:"p"},'"pdftk,uno-pdfengine"')," selects PDFtk as the first engine, and UNO as the second.")),(0,r.kt)("h2",{id:"webhook"},"Webhook"),(0,r.kt)("p",null,"The webhook feature enables Gotenberg to upload the output file originating from ",(0,r.kt)("em",{parentName:"p"},"multipart/form-data")," routes to a\nselected destination."),(0,r.kt)("p",null,"The following flags allow you to configure the Webhook module:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Flag"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--webhook-allow-list")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the allowed URLs for the webhook feature using a regular expression."),(0,r.kt)("td",{parentName:"tr",align:null},"All")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--webhook-deny-list")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the denied URLs for the webhook feature using a regular expression."),(0,r.kt)("td",{parentName:"tr",align:null},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--webhook-error-allow-list")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the allowed URLs in case of an error for the webhook feature using a regular expression."),(0,r.kt)("td",{parentName:"tr",align:null},"All")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--webhook-error-deny-list")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the denied URLs in case of an error for the webhook feature using a regular expression."),(0,r.kt)("td",{parentName:"tr",align:null},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--webhook-max-retry")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the maximum number of retries for the webhook feature."),(0,r.kt)("td",{parentName:"tr",align:null},"4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--webhook-retry-min-wait")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the minimum duration to wait before trying to call the webhook again."),(0,r.kt)("td",{parentName:"tr",align:null},"1s")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--webhook-retry-max-wait")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the maximum duration to wait before trying to call the webhook again."),(0,r.kt)("td",{parentName:"tr",align:null},"30s")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--webhook-client-timeout")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the time limit for requests to the webhook."),(0,r.kt)("td",{parentName:"tr",align:null},"30s")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--webhook-disable")),(0,r.kt)("td",{parentName:"tr",align:null},"Disable the webhook feature."),(0,r.kt)("td",{parentName:"tr",align:null},"false")))),(0,r.kt)("h2",{id:"prometheus"},"Prometheus"),(0,r.kt)("p",null,"The Prometheus module collects metrics from other modules and exposes an HTTP endpoint that can be scraped by\n",(0,r.kt)("a",{parentName:"p",href:"https://prometheus.io/"},"Prometheus"),"."),(0,r.kt)("p",null,"The following flags allow you to configure the Prometheus module:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Flag"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--prometheus-collect-interval")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the interval for collecting modules' metrics."),(0,r.kt)("td",{parentName:"tr",align:null},"1s")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--prometheus-namespace")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the namespace of modules' metrics."),(0,r.kt)("td",{parentName:"tr",align:null},"gotenberg")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--prometheus-disable-collect")),(0,r.kt)("td",{parentName:"tr",align:null},"Disable the collect of metrics."),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--prometheus-disable-route-logging")),(0,r.kt)("td",{parentName:"tr",align:null},"Disable the route logging."),(0,r.kt)("td",{parentName:"tr",align:null},"false")))),(0,r.kt)("h2",{id:"logging"},"Logging"),(0,r.kt)("p",null,"Gotenberg employs a logger that generates structured logs. Structured logs are formatted in a standardized,\nmachine-readable way, making them extremely beneficial for centralized log management."),(0,r.kt)("p",null,"The following flags allow you to configure the logger:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Flag"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--log-format")),(0,r.kt)("td",{parentName:"tr",align:null},"Specify the format of logging. Options include auto, json, or text."),(0,r.kt)("td",{parentName:"tr",align:null},"auto")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--log-level")),(0,r.kt)("td",{parentName:"tr",align:null},"Choose the level of logging detail. Options include error, warn, info, or debug."),(0,r.kt)("td",{parentName:"tr",align:null},"info")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--log-fields-prefix")),(0,r.kt)("td",{parentName:"tr",align:null},"Prepend a specified prefix to each field in the logs."),(0,r.kt)("td",{parentName:"tr",align:null},"None")))),(0,r.kt)("h2",{id:"graceful-shutdown"},"Graceful Shutdown"),(0,r.kt)("p",null,"To ensure running tasks have sufficient time to complete, Gotenberg waits for a specific duration before initiating the\nshutdown process. It may stop earlier if all tasks have completed."),(0,r.kt)("p",null,"The following flag allows you to configure this duration:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Flag"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{class:"badge badge--secondary"},"--gotenberg-graceful-shutdown-duration")),(0,r.kt)("td",{parentName:"tr",align:null},"Set the graceful shutdown duration."),(0,r.kt)("td",{parentName:"tr",align:null},"30s")))),(0,r.kt)("h2",{id:"docker-image"},"Docker Image"),(0,r.kt)("h3",{id:"fonts"},"Fonts"),(0,r.kt)("p",null,"The default Docker image is pre-packaged with an extensive assortment of fonts, including Asian ones. If your application\nrequires additional or specific fonts not included in this collection, you'll need to construct a tailored Docker image\nto incorporate those fonts."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Via .tff files")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"FROM gotenberg/gotenberg:7\n\nUSER root\n\nCOPY /local/path/to/{font}.ttf /usr/local/share/fonts/{font}.ttf\n\nUSER gotenberg\n")),(0,r.kt)("p",null,"Or, if you have many fonts:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"FROM gotenberg/gotenberg:7\n\nUSER root\n\nCOPY /local/path/to/fonts/* /usr/local/share/fonts/\n\nUSER gotenberg\n")),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Via .deb packages")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"FROM gotenberg/gotenberg:7\n\nUSER root\n\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y -qq --no-install-recommends my-fonts-package\n\nUSER gotenberg\n")),(0,r.kt)("hr",null),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"You could also mount a volume containing your fonts to ",(0,r.kt)("em",{parentName:"p"},"/usr/local/share/fonts/")," as suggested in this\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/gotenberg/gotenberg/issues/602#issue-1580360200"},"comment"),".")),(0,r.kt)("h3",{id:"ownership"},"Ownership"),(0,r.kt)("p",null,"The Docker image employs a specific non-root user, named ",(0,r.kt)("em",{parentName:"p"},"gotenberg"),", with a User ID (uid) and Group ID (gid) of ",(0,r.kt)("strong",{parentName:"p"},"1001"),".\nIf you want to change these identifiers, you will have to build a custom Docker image:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-docker"},"FROM gotenberg/gotenberg:7\n\nUSER root\n\nRUN usermod -u {uid} -g {gid} gotenberg\n\nUSER gotenberg\n")))}u.isMDXComponent=!0}}]);