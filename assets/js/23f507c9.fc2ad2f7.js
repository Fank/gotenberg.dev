"use strict";(self.webpackChunkgotenberg_dev=self.webpackChunkgotenberg_dev||[]).push([[1127],{8448:function(e,t,a){var n=a(7294);t.Z=function(e){var t=e.children,a=e.hidden,i=e.className;return n.createElement("div",{role:"tabpanel",hidden:a,className:i},t)}},7225:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(7462),i=a(7294),r=a(1048),o=a(2713);var l=function(){var e=(0,i.useContext)(o.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},m=a(3309),s=a(6010),p="tabItem_1uMI";function d(e){var t,a,n,r=e.lazy,o=e.block,d=e.defaultValue,c=e.values,h=e.groupId,u=e.className,v=i.Children.map(e.children,(function(e){if((0,i.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),k=null!=c?c:v.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),N=(0,m.lx)(k,(function(e,t){return e.value===t.value}));if(N.length>0)throw new Error('Docusaurus error: Duplicate values "'+N.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var f=null===d?d:null!=(t=null!=d?d:null==(a=v.find((function(e){return e.props.default})))?void 0:a.props.value)?t:null==(n=v[0])?void 0:n.props.value;if(null!==f&&!k.some((function(e){return e.value===f})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+f+'" but none of its children has the corresponding value. Available values are: '+k.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var g=l(),w=g.tabGroupChoices,b=g.setTabGroupChoices,C=(0,i.useState)(f),y=C[0],x=C[1],T=[],z=(0,m.o5)().blockElementScrollPositionUntilNextRender;if(null!=h){var M=w[h];null!=M&&M!==y&&k.some((function(e){return e.value===M}))&&x(M)}var H=function(e){var t=e.currentTarget,a=T.indexOf(t),n=k[a].value;n!==y&&(z(t),x(n),null!=h&&b(h,n))},P=function(e){var t,a=null;switch(e.key){case"ArrowRight":var n=T.indexOf(e.currentTarget)+1;a=T[n]||T[0];break;case"ArrowLeft":var i=T.indexOf(e.currentTarget)-1;a=T[i]||T[T.length-1]}null==(t=a)||t.focus()};return i.createElement("div",{className:"tabs-container"},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":o},u)},k.map((function(e){var t=e.value,a=e.label;return i.createElement("li",{role:"tab",tabIndex:y===t?0:-1,"aria-selected":y===t,className:(0,s.Z)("tabs__item",p,{"tabs__item--active":y===t}),key:t,ref:function(e){return T.push(e)},onKeyDown:P,onFocus:H,onClick:H},null!=a?a:t)}))),r?(0,i.cloneElement)(v.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):i.createElement("div",{className:"margin-vert--md"},v.map((function(e,t){return(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==y})}))))}function c(e){var t=(0,r.Z)();return i.createElement(d,(0,n.Z)({key:String(t)},e))}},2713:function(e,t,a){var n=(0,a(7294).createContext)(void 0);t.Z=n},8108:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return p},metadata:function(){return d},toc:function(){return c},default:function(){return u}});var n=a(7462),i=a(3366),r=(a(7294),a(4137)),o=a(7225),l=a(8448),m=["components"],s={id:"chromium",title:"Chromium"},p=void 0,d={unversionedId:"modules/chromium",id:"modules/chromium",isDocsHomePage:!1,title:"Chromium",description:"The Chromium module interacts with the Chromium browser to convert HTML documents to PDF.",source:"@site/docs/modules/chromium.mdx",sourceDirName:"modules",slug:"/modules/chromium",permalink:"/docs/modules/chromium",editUrl:"https://github.com/gotenberg/gotenberg.dev/edit/main/docs/modules/chromium.mdx",tags:[],version:"current",frontMatter:{id:"chromium",title:"Chromium"},sidebar:"version-7.x",previous:{title:"API",permalink:"/docs/modules/api"},next:{title:"LibreOffice",permalink:"/docs/modules/libreoffice"}},c=[{value:"Properties",id:"properties",children:[],level:2},{value:"Routes",id:"routes",children:[{value:"URL",id:"url",children:[],level:3},{value:"HTML",id:"html",children:[],level:3},{value:"Markdown",id:"markdown",children:[],level:3}],level:2},{value:"Metric",id:"metric",children:[],level:2}],h={toc:c};function u(e){var t=e.components,a=(0,i.Z)(e,m);return(0,r.kt)("wrapper",(0,n.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The Chromium module interacts with the Chromium browser to convert HTML documents to PDF."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"It starts a dedicated Chromium instance for each request."))),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"amd64")," Docker image uses Google Chrome stable, while other architectures use an earlier version of Chromium."),(0,r.kt)("p",{parentName:"div"},"Until Google or Debian packages' managers provide a more up-to-date version of Chromium for ",(0,r.kt)("inlineCode",{parentName:"p"},"arm64"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"armhf"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"i386"),"\nplatforms, the Docker images will differ, alas."))),(0,r.kt)("h2",{id:"properties"},"Properties"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'--chromium-allow-file-access-from-files bool    Allow file:// URIs to read other file:// URIs\n--chromium-allow-list                   string  Set the allowed URLs for Chromium using a regular expression\n--chromium-deny-list                    string  Set the denied URLs for Chromium using a regular expression (default "^file:///[^tmp].*")\n--chromium-ignore-certificate-errors    bool    Ignore the certificate errors\n--chromium-disable-web-security         bool    Don\'t enforce the same-origin policy\n--chromium-incognito                    bool    Start Chromium with incognito mode\n--chromium-proxy-server                 string  Set the outbound proxy server; this switch only affects HTTP and HTTPS requests\n--chromium-disable-javascript           bool    Disable JavaScript\n--chromium-disable-routes               bool    Disable the routes\n')),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},(0,r.kt)("inlineCode",{parentName:"p"},"--chromium-user-agent")," property is deprecated. Prefer the ",(0,r.kt)("inlineCode",{parentName:"p"},"userAgent")," form field instead."))),(0,r.kt)("h2",{id:"routes"},"Routes"),(0,r.kt)("p",null,"Each route accepts ",(0,r.kt)("inlineCode",{parentName:"p"},"multipart/form-data")," requests."),(0,r.kt)("p",null,"They share the following form fields:"),(0,r.kt)(o.Z,{defaultValue:"page_props",values:[{label:"Page Properties",value:"page_props"},{label:"Header & Footer",value:"header_footer"},{label:"Wait",value:"wait"},{label:"HTTP Headers",value:"http_headers"},{label:"JavaScript",value:"javascript"},{label:"CSS",value:"css"},{label:"PDF Format",value:"pdf_format"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"page_props",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"paperWidth        float   Paper width, in inches (default 8.5)\npaperHeight       float   Paper height, in inches (default 11)\nmarginTop         float   Top margin, in inches (default 0.39)\nmarginBottom      float   Bottom margin, in inches (default 0.39)\nmarginLeft        float   Left margin, in inches (default 0.39)\nmarginRight       float   Right margin, in inches (default 0.39)\npreferCssPageSize bool    Define whether to prefer page size as defined by CSS (default false)\nprintBackground   bool    Print the background graphics (default false)\nlandscape         bool    Set the paper orientation to landscape (default false)\nscale             float   The scale of the page rendering (default 1.0)\nnativePageRanges  string  Page ranges to print, e.g., '1-5, 8, 11-13' - empty means all pages\n")),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4-14}","{4-14}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'paperWidth=\"8.27\"' \\\n--form 'paperHeight=\"11.7\"' \\\n--form 'marginTop=\"1\"' \\\n--form 'marginBottom=\"1\"' \\\n--form 'marginLeft=\"1\"' \\\n--form 'marginRight=\"1\"' \\\n--form 'preferCssPageSize=\"false\"' \\\n--form 'printBackground=\"true\"' \\\n--form 'landscape=\"true\"' \\\n--form 'scale=\"2.0\"' \\\n--form 'nativePageRanges=\"1-5\"' \\\n-o my.pdf\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Examples of paper size (width x height):"),(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Letter")," - 8.5 x 11 (default)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Legal")," - 8.5 x 14"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Tabloid")," - 11 x 17"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Ledger")," - 17 x 11"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A0")," - 33.1 x 46.8"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A1")," - 23.4 x 33.1"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A2")," - 16.54 x 23.4"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A3")," - 11.7 x 16.54"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A4")," - 8.27 x 11.7"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A5")," - 5.83 x 8.27"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"A6")," - 4.13 x 5.83"))))),(0,r.kt)(l.Z,{value:"header_footer",mdxType:"TabItem"},(0,r.kt)("p",null,"Each route accepts files named ",(0,r.kt)("inlineCode",{parentName:"p"},"header.html")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"footer.html"),"."),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4-7}","{4-7}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'files=@\"/path/to/header.html\"' \\\n--form 'files=@\"/path/to/footer.html\"' \\\n--form 'marginTop=\"1\"' \\\n--form 'marginBottom=\"1\"' \\\n-o my.pdf\n")),(0,r.kt)("p",null,"Each of them has to be a ",(0,r.kt)("strong",{parentName:"p"},"complete HTML document"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<html>\n<head>\n    <style>\n    body {\n        font-size: 8rem;\n        margin: 4rem auto;\n    }\n    </style>\n</head>\n<body>\n<p><span class="pageNumber"></span> of <span class="totalPages"></span></p>\n</body>\n</html>\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The following classes allow you to inject printing values:"),(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"date")," - formatted print date."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"title")," - document title."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"url")," - document location."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"pageNumber")," - current page number."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"totalPages")," - total pages in the document.")))),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Make sure that:"),(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},"Margins top and bottom are large enough (",(0,r.kt)("inlineCode",{parentName:"li"},"marginTop")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"marginBottom")," form fields)."),(0,r.kt)("li",{parentName:"ol"},"The font size is big enough.")))),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"There are some limitations:"),(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"No JavaScript."),(0,r.kt)("li",{parentName:"ul"},"The CSS properties are independent of the ones from the HTML document."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"footer.html")," CSS properties override the ones from ",(0,r.kt)("inlineCode",{parentName:"li"},"header.html"),"."),(0,r.kt)("li",{parentName:"ul"},"Only fonts installed in the Docker image are loaded - see the ",(0,r.kt)("a",{parentName:"li",href:"../customize/fonts"},"Fonts")," chapter."),(0,r.kt)("li",{parentName:"ul"},"Images only work using a base64 encoded source - i.e., ",(0,r.kt)("inlineCode",{parentName:"li"},"data:image/png;base64, iVBORw0K..."),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"background-color")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"color")," CSS properties require an additional ",(0,r.kt)("inlineCode",{parentName:"li"},"-webkit-print-color-adjust: exact")," CSS property in order to work."),(0,r.kt)("li",{parentName:"ul"},"Assets are not loaded (i.e., CSS files, scripts, fonts, etc.)."))))),(0,r.kt)(l.Z,{value:"wait",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"waitDelay          duration  Duration to wait when loading an HTML document before converting it to PDF\nwaitForExpression  string    The JavaScript expression to wait before converting an HTML document to PDF until it returns true\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"waitDelay")),(0,r.kt)("p",null,"When the page relies on JavaScript for rendering, and you don't have access to the page's code, you may want to wait a\ncertain amount of time to make sure Chromium has fully rendered the page you're trying to generate."),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'waitDelay=\"5s\"' \\\n-o my.pdf\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"waitForExpression")),(0,r.kt)("p",null,"You may also wait until a given JavaScript expression returns true."),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// Somewhere in the HTML document.\nawait promises()\nwindow.status = 'ready'\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'waitForExpression=\"window.status === '\\''ready'\\''\"' \\\n-o my.pdf\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Prefer this option over ",(0,r.kt)("inlineCode",{parentName:"p"},"waitDelay"),"."))),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The form field ",(0,r.kt)("inlineCode",{parentName:"p"},"waitWindowStatus")," is deprecated in favor of ",(0,r.kt)("inlineCode",{parentName:"p"},"waitForExpression"),"."))),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"These form fields do not work if JavaScript is disabled via ",(0,r.kt)("inlineCode",{parentName:"p"},"--chromium-disable-javascript"),".")))),(0,r.kt)(l.Z,{value:"http_headers",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"userAgent        string  Override the default User-Agent header\nextraHttpHeaders string  HTTP headers to send by Chromium while loading the HTML document (JSON format)\n")),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4-5}","{4-5}":!0},'curl \\\n--request POST \'http://localhost:3000/forms/chromium/convert/url\' \\\n--form \'url="https://my.url"\' \\\n--form \'userAgent="Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1"\' \\\n--form \'extraHttpHeaders="{\\"MyHeader\\": \\"MyValue\\"}"\' \\\n-o my.pdf\n'))),(0,r.kt)(l.Z,{value:"javascript",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"failOnConsoleExceptions bool  Return a 409 Conflict response if there are exceptions in the Chromium console (default false)\n")),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/html' \\\n--form 'files=@\"/path/to/index.html\"' \\\n--form 'failOnConsoleExceptions=\"true\"'\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Status: 409 Conflict\nContent-Type: text/plain; charset=UTF-8\nGotenberg-Trace: {trace}\n\nBody:\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Chromium console exceptions:\n\nexception "Uncaught" (17:10): Error: Exception 1\nat file:///tmp/db09d2c8-31e3-4058-9923-c2705350f2b3/index.html:18:11;\nexception "Uncaught" (20:10): Error: Exception 2\nat file:///tmp/db09d2c8-31e3-4058-9923-c2705350f2b3/index.html:21:11:\n')),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"This form field does not work if JavaScript is disabled via ",(0,r.kt)("inlineCode",{parentName:"p"},"--chromium-disable-javascript"),".")))),(0,r.kt)(l.Z,{value:"css",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'emulatedMediaType string  The media type to emulate, either "screen" or "print" - empty means "print"\n')),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'emulatedMediaType=\"screen\"' \\\n-o my.pdf\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},'Some websites have dedicated CSS rules for print. Using "screen" allows you to force the "standard" CSS rules.')))),(0,r.kt)(l.Z,{value:"pdf_format",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"pdfFormat string  The PDF format of the resulting PDF\n")),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'pdfFormat=\"PDF/A-1a\"' \\\n-o my.pdf\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"After a Chromium conversion, the PDF engines will convert the resulting PDF to a specific format."),(0,r.kt)("p",{parentName:"div"},"Check the available PDF formats:"),(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"pdf-engines#pdftk"},"PDFtk")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"pdf-engines#pdfcpu"},"PDFcpu")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"pdf-engines#qpdf"},"QPDF")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"pdf-engines#unoconv"},"unoconv"))))))),(0,r.kt)("h3",{id:"url"},"URL"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"POST /forms/chromium/convert/url")),(0,r.kt)("p",null,"This route accepts a form field ",(0,r.kt)("inlineCode",{parentName:"p"},"url")," with the URL of the page you want to convert to PDF."),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{3}","{3}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'marginTop=\"0\"' \\\n--form 'marginBottom=\"0\"' \\\n--form 'marginLeft=\"0\"' \\\n--form 'marginRight=\"0\"' \\\n-o my.pdf\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"When converting a website to PDF, you should remove all margins. If not, the resulting PDF might not contain all\ncontent from the page."))),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Gotenberg auto-detects some files you may send in your request: ",(0,r.kt)("inlineCode",{parentName:"p"},".woff2"),", ",(0,r.kt)("inlineCode",{parentName:"p"},".woff"),", ",(0,r.kt)("inlineCode",{parentName:"p"},".ttf"),", ",(0,r.kt)("inlineCode",{parentName:"p"},".css")," and ",(0,r.kt)("inlineCode",{parentName:"p"},".js"),"."),(0,r.kt)("p",null,"It adds on the fly the corresponding ",(0,r.kt)("inlineCode",{parentName:"p"},"<link>")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"<script>")," HTML elements inside the DOM of the target URL."),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4-6}","{4-6}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/url' \\\n--form 'url=\"https://my.url\"' \\\n--form 'files=@\"/path/to/font.woff\"' \\\n--form 'files=@\"/path/to/style.css\"' \\\n--form 'files=@\"/path/to/script.js\"' \\\n-o my.pdf\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Gotenberg adds these HTML elements alphabetically, according to the filenames."))),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},(0,r.kt)("inlineCode",{parentName:"p"},"<script>")," elements are not added if JavaScript is disabled via ",(0,r.kt)("inlineCode",{parentName:"p"},"--chromium-disable-javascript"),"."))),(0,r.kt)("hr",null),(0,r.kt)("p",null,"The form fields ",(0,r.kt)("inlineCode",{parentName:"p"},"extraLinkTags")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"extraScriptTags")," (JSON format) allows you to add remote paths and override the\ndefault alphabetical ordering."),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4-8}","{4-8}":!0},'curl \\\n--request POST \'http://localhost:3000/forms/chromium/convert/url\' \\\n--form \'url="https://my.url"\' \\\n--form \'files=@"/path/to/a.css"\' \\\n--form \'files=@"/path/to/b.css"\' \\\n--form \'files=@"/path/to/c.js"\' \\\n--form \'extraLinkTags="[{\\"href\\":\\"b.css\\"},{\\"href\\":\\"a.css\\"},{\\"href\\":\\"https://my.cdn.css\\"}]"\' \\\n--form \'extraScriptTags="[{\\"src\\":\\"https://my.cdn.js\\"},{\\"href\\":\\"c.js\\"}]"\' \\\n-o my.pdf\n')),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"For ",(0,r.kt)("inlineCode",{parentName:"p"},"<link>")," elements, only the ",(0,r.kt)("inlineCode",{parentName:"p"},"href")," attribute is available."))),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"For ",(0,r.kt)("inlineCode",{parentName:"p"},"<script>")," elements, only the ",(0,r.kt)("inlineCode",{parentName:"p"},"src")," attribute is available."))),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Gotenberg adds the remaining files that it auto-detects after the assets from ",(0,r.kt)("inlineCode",{parentName:"p"},"extraLinkTags")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"extraScriptTags"),"."))),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},(0,r.kt)("inlineCode",{parentName:"p"},"<script>")," elements are not added if JavaScript is disabled via ",(0,r.kt)("inlineCode",{parentName:"p"},"--chromium-disable-javascript"),"."))),(0,r.kt)("h3",{id:"html"},"HTML"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"POST /forms/chromium/convert/html")),(0,r.kt)("p",null,"This route accepts a file named ",(0,r.kt)("inlineCode",{parentName:"p"},"index.html"),"."),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <title>My PDF</title>\n  </head>\n  <body>\n    <h1>Hello world!</h1>\n  </body>\n</html>\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{3}","{3}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/html' \\\n--form 'files=@\"/path/to/index.html\"' \\\n-o my.pdf\n")),(0,r.kt)("hr",null),(0,r.kt)("p",null,"You may also send additional files, like images, fonts, stylesheets, and so on."),(0,r.kt)("p",null,"The only requirement is that their paths in the ",(0,r.kt)("inlineCode",{parentName:"p"},"index.html")," file are on the root level."),(0,r.kt)("p",null,"For instance, this will work:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:"{9}","{9}":!0},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <title>My PDF</title>\n  </head>\n  <body>\n    <h1>Hello world!</h1>\n    <img src="img.png" />\n  </body>\n</html>\n')),(0,r.kt)("p",null,"But this won't:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:"{9}","{9}":!0},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <title>My PDF</title>\n  </head>\n  <body>\n    <h1>Hello world!</h1>\n    <img src="/foo/img.png" />\n  </body>\n</html>\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4-6}","{4-6}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/html' \\\n--form 'files=@\"/path/to/index.html\"' \\\n--form 'files=@\"/path/to/style.css\"' \\\n--form 'files=@\"/path/to/img.png\"' \\\n--form 'files=@\"/path/to/font.woff\"' \\\n-o my.pdf\n")),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Remote paths for images, fonts (e.g., ",(0,r.kt)("a",{parentName:"p",href:"https://fonts.google.com/"},"Google Fonts"),"), etc., works too."))),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"See the ",(0,r.kt)("a",{parentName:"p",href:"../customize/fonts"},"Fonts")," chapter if you want to install fonts in the Docker image."))),(0,r.kt)("h3",{id:"markdown"},"Markdown"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"POST /forms/chromium/convert/markdown")),(0,r.kt)("p",null,"This route accepts a file named ",(0,r.kt)("inlineCode",{parentName:"p"},"index.html")," plus markdown files."),(0,r.kt)("p",null,"It works like the ",(0,r.kt)("a",{parentName:"p",href:"#html"},"HTML")," route but with access to a Go template function ",(0,r.kt)("inlineCode",{parentName:"p"},"toHTML"),". It converts a\nmarkdown file's content to HTML."),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:"{8}","{8}":!0},'<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <title>My PDF</title>\n  </head>\n  <body>\n    {{ toHTML "file.md" }}\n  </body>\n</html>\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:"{4}","{4}":!0},"curl \\\n--request POST 'http://localhost:3000/forms/chromium/convert/markdown' \\\n--form 'files=@\"/path/to/index.html\"' \\\n--form 'files=@\"/path/to/file.md\"' \\\n-o my.pdf\n")),(0,r.kt)("h2",{id:"metric"},"Metric"),(0,r.kt)("p",null,"The Chromium module exposes the following metric:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"{namespace}_chromium_active_instances_count")," - current number of active Chromium instances.")),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"Prometheus"},"Prometheus")," for more details."))}u.isMDXComponent=!0}}]);